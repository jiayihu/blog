<html>
  <head>
    <meta charset="utf-8">
<meta http-equiv='X-UA-Compatible' content='IE=edge,chrome=1'>
<meta name="viewport" content="width=device-width, initial-scale=1">
<link rel="stylesheet" href="/css/main.css">
<link rel="stylesheet" href="/css/prism.css">
<link href="https://fonts.googleapis.com/css?family=Merriweather:400,400i,700" rel="stylesheet"> 

    <title>Angular AOT compilation with Webpack | Jiayi's Chronicles</title>
    <!-- Search Engine -->
<meta name="description" content="Set up AOT compilation in Webpack to avoid runtime compilation, reduce bundle size and improve application start">
<!-- Schema.org for Google -->
<meta itemprop="name" content="Angular AOT compilation with Webpack">
<meta itemprop="description" content="Set up AOT compilation in Webpack to avoid runtime compilation, reduce bundle size and improve application start">
<!-- Twitter -->
<meta name="twitter:card" content="summary">
<meta name="twitter:title" content="Angular AOT compilation with Webpack">
<meta name="twitter:description" content="Set up AOT compilation in Webpack to avoid runtime compilation, reduce bundle size and improve application start">
<meta name="twitter:site" content="@jiayi_ghu">
<meta name="twitter:image:src" content="http://blog.jiayihu.net/images/angular-aot/cover.jpg">
<!-- Open Graph general (Facebook, Pinterest & Google+) -->
<meta name="og:title" content="Angular AOT compilation with Webpack">
<meta name="og:description" content="Set up AOT compilation in Webpack to avoid runtime compilation, reduce bundle size and improve application start">
<meta name="og:image" content="http://blog.jiayihu.net/images/angular-aot/cover.jpg">
<meta name="og:url" content="http://blog.jiayihu.net/angular-aot-compilation-with-webpack">
<meta name="og:site_name" content="Jiayi's Chronicles">
<meta name="og:type" content="website">

  </head>

  <body class="page--article serif">
    <nav class="db dt-l w-100 border-box pa3 ph5-l">
  <a class="db dtc-l v-mid mid-gray link underline-hover w-100 w-25-l tc tl-l mb2 mb0-l f3" href="/" title="Home">
    Jiayi's Chronicles
  </a>
  <div class="db dtc-l v-mid w-100 w-75-l tc tr-l">
    <a class="link underline-hover dark-gray f6 f5-l dib mr3 mr4-l" href="/" title="Home">Home</a>
    <a class="link underline-hover dark-gray f6 f5-l dib mr3 mr4-l" href="/about" title="About me">About me</a>
  </div>
</nav>


    <article>
      <header 
        class="vh-100 dt w-100 tc bg-dark-gray white cover" 
        style="background:url(/images/angular-aot/cover.jpg) no-repeat center, #737373;"
      >
        <div class="bg-black-50 dtc v-mid">
          <h1 class="f1 f-headline-l fw1 i white-90 ph3">Angular AOT compilation with Webpack</h1>
          <div class="ph0 mh0 measure f4 lh-copy center white-80">
            <p class="fw1">
              Set up AOT compilation in Webpack to avoid runtime compilation, reduce bundle size and improve application start
            </p>
            <p class="article-meta f6 ttu tracked fs-normal">Jiayi Hu - July 22nd, 2017</p>
          </div>
        </div>
      </header>
      <section class="article-main f5 pv5 lh-copy ph2 relative">
        <a 
          href="https://github.com/jiayihu/blog/tree/master/src/articles/angular-aot.md" 
          class="color-inherit f6 o-50 no-underline underline-hover glow absolute top-1 right-1"
          target="_blank"
        >
            <span class="dib w1">
                <svg viewBox="0 0 256 250" version="1.1" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" preserveAspectRatio="xMidYMid">
                  <g>
                    <path d="M128.00106,0 C57.3172926,0 0,57.3066942 0,128.00106 C0,184.555281 36.6761997,232.535542 87.534937,249.460899 C93.9320223,250.645779 96.280588,246.684165 96.280588,243.303333 C96.280588,240.251045 96.1618878,230.167899 96.106777,219.472176 C60.4967585,227.215235 52.9826207,204.369712 52.9826207,204.369712 C47.1599584,189.574598 38.770408,185.640538 38.770408,185.640538 C27.1568785,177.696113 39.6458206,177.859325 39.6458206,177.859325 C52.4993419,178.762293 59.267365,191.04987 59.267365,191.04987 C70.6837675,210.618423 89.2115753,204.961093 96.5158685,201.690482 C97.6647155,193.417512 100.981959,187.77078 104.642583,184.574357 C76.211799,181.33766 46.324819,170.362144 46.324819,121.315702 C46.324819,107.340889 51.3250588,95.9223682 59.5132437,86.9583937 C58.1842268,83.7344152 53.8029229,70.715562 60.7532354,53.0843636 C60.7532354,53.0843636 71.5019501,49.6441813 95.9626412,66.2049595 C106.172967,63.368876 117.123047,61.9465949 128.00106,61.8978432 C138.879073,61.9465949 149.837632,63.368876 160.067033,66.2049595 C184.49805,49.6441813 195.231926,53.0843636 195.231926,53.0843636 C202.199197,70.715562 197.815773,83.7344152 196.486756,86.9583937 C204.694018,95.9223682 209.660343,107.340889 209.660343,121.315702 C209.660343,170.478725 179.716133,181.303747 151.213281,184.472614 C155.80443,188.444828 159.895342,196.234518 159.895342,208.176593 C159.895342,225.303317 159.746968,239.087361 159.746968,243.303333 C159.746968,246.709601 162.05102,250.70089 168.53925,249.443941 C219.370432,232.499507 256,184.536204 256,128.00106 C256,57.3066942 198.691187,0 128.00106,0 Z M47.9405593,182.340212 C47.6586465,182.976105 46.6581745,183.166873 45.7467277,182.730227 C44.8183235,182.312656 44.2968914,181.445722 44.5978808,180.80771 C44.8734344,180.152739 45.876026,179.97045 46.8023103,180.409216 C47.7328342,180.826786 48.2627451,181.702199 47.9405593,182.340212 Z M54.2367892,187.958254 C53.6263318,188.524199 52.4329723,188.261363 51.6232682,187.366874 C50.7860088,186.474504 50.6291553,185.281144 51.2480912,184.70672 C51.8776254,184.140775 53.0349512,184.405731 53.8743302,185.298101 C54.7115892,186.201069 54.8748019,187.38595 54.2367892,187.958254 Z M58.5562413,195.146347 C57.7719732,195.691096 56.4895886,195.180261 55.6968417,194.042013 C54.9125733,192.903764 54.9125733,191.538713 55.713799,190.991845 C56.5086651,190.444977 57.7719732,190.936735 58.5753181,192.066505 C59.3574669,193.22383 59.3574669,194.58888 58.5562413,195.146347 Z M65.8613592,203.471174 C65.1597571,204.244846 63.6654083,204.03712 62.5716717,202.981538 C61.4524999,201.94927 61.1409122,200.484596 61.8446341,199.710926 C62.5547146,198.935137 64.0575422,199.15346 65.1597571,200.200564 C66.2704506,201.230712 66.6095936,202.705984 65.8613592,203.471174 Z M75.3025151,206.281542 C74.9930474,207.284134 73.553809,207.739857 72.1039724,207.313809 C70.6562556,206.875043 69.7087748,205.700761 70.0012857,204.687571 C70.302275,203.678621 71.7478721,203.20382 73.2083069,203.659543 C74.6539041,204.09619 75.6035048,205.261994 75.3025151,206.281542 Z M86.046947,207.473627 C86.0829806,208.529209 84.8535871,209.404622 83.3316829,209.4237 C81.8013,209.457614 80.563428,208.603398 80.5464708,207.564772 C80.5464708,206.498591 81.7483088,205.631657 83.2786917,205.606221 C84.8005962,205.576546 86.046947,206.424403 86.046947,207.473627 Z M96.6021471,207.069023 C96.7844366,208.099171 95.7267341,209.156872 94.215428,209.438785 C92.7295577,209.710099 91.3539086,209.074206 91.1652603,208.052538 C90.9808515,206.996955 92.0576306,205.939253 93.5413813,205.66582 C95.054807,205.402984 96.4092596,206.021919 96.6021471,207.069023 Z" fill="#161614"></path>
                  </g>
                </svg>
            </span>
            Edit on Github
        </a>

        <div class="center measure-wide">
          <h1 class="f1 lh-title">Angular AOT compilation with Webpack</h1>
          <div class="article-content"><p>Recently I&#39;ve been dealing very often with Angular 2+ AOT compilation in Webpack and I&#39;ve always found it an exhausting activity.
The information is completely missing or extremely incomplete in the <a class="red dim" href="https://angular.io/guide/aot-compiler">official Angular documentation</a>, with no mentions about how to run it with a custom Webpack configuration.</p>
<p>Despite we&#39;re almost at <a class="red dim" href="https://github.com/angular/angular/blob/master/CHANGELOG.md#500-beta0-2017-07-19">Angular 5</a>, the AOT compilation is still very experimental in my opinion and it&#39;s a journey of try &amp; error, digging into Angular source code and Github issues until you succeed or give up.<br>Nevertheless, <a class="red dim" href="https://angular.io/guide/aot-compiler#why-do-aot-compilation">its benefits</a> are often a requirement for your application.</p>
<p>In this article, I&#39;ll share my experience about how to make the AOT compilation work with a custom Webpack configuration.</p>
<h3 id="disclaimer">Disclaimer</h3>
<p>This article won&#39;t explain the details of <a class="red dim" href="https://angular.io/guide/aot-compiler">what AOT compilation is</a> or <a class="red dim" href="http://blog.mgechev.com/2016/08/14/ahead-of-time-compilation-angular-offline-precompilation/">what it does technically</a>. Also, the following parts assume you are using a custom Webpack configuration.</p>
<p>If you&#39;re using standard <a class="red dim" href="https://github.com/angular/angular-cli">angular-cli</a> it will magically take care of AOT compilation for you and the command is <code class="purple">ng build --prod</code>. But you could still find the following information useful if you ejected the Webpack configuration or if you&#39;re curious about how it works under the hood.</p>
<h2 id="webpack-configuration">Webpack configuration</h2>
<p>The first step towards successful AOT compilation is adding <code class="purple">AOTPlugin</code> to your Webpack configuration file, usually named <code class="purple">webpack.config.js</code>.
You can install the plugin from the package <a class="red dim" href="https://github.com/angular/angular-cli/tree/master/packages/%40ngtools/webpack">@ngtools/webpack</a>, the official plugin from the Angular team and used under the hood in <code class="purple">angular-cli</code>.</p>
<p>The plugin uses <code class="purple">ngc</code>, the Angular AOT compiler, internally.</p>
<ol>
<li><p>Import and instantiate <code class="purple">AOTPlugin</code>. We&#39;ll use this plugin only in production to generate the JS bundle distributed and actually used by the users.  </p>
<p>The plugin requires at least the path of the <code class="purple">tsconfig.json</code> used in production and the path to the <code class="purple">app.module</code> file, where <code class="purple">AppModule</code> is exported. The latter must be absolute, whereas the former can be relative.</p>
<p>You can read the plugin README for the <a class="red dim" href="https://github.com/angular/angular-cli/blob/5c4c5b488940cec13ed2c41e7a7031889f4f9b2f/packages/%40ngtools/webpack/README.md#options">complete list of available options</a>.</p>
<pre><code class="lang-javascript">const AotPlugin = require(&#39;@ngtools/webpack&#39;).AotPlugin;

const prodPlugins = [
 new AotPlugin({
   tsConfigPath: &#39;tsconfig-prod.json&#39;,
   entryModule: path.resolve(__dirname, &#39;src/app/app.module#AppModule&#39;)
 }),
];

// The value &#39;production&#39; depends on what NODE_ENV is set when running Webpack
// to compile the production bundle
const IS_DEV = process.env.NODE_ENV !== &#39;production&#39;;
</code></pre>
</li>
<li><p>Change <code class="purple">entry</code> path based on the environment. We&#39;ll see in a while what <code class="purple">main-prod.ts</code> is:</p>
<pre><code class="lang-javascript">// ...later in the config
entry: path.join(root.src, IS_DEV ? &#39;main.ts&#39; : &#39;main-prod.ts&#39;),
</code></pre>
</li>
<li><p>Change the Typescript loader based on the environment. We&#39;ll use <code class="purple">@ngtools/webpack</code> loader in production.</p>
<p>Note we&#39;re including <code class="purple">node_modules</code> because the Angular compiler will use TS files located in <code class="purple">node_modules</code>. These files are called <a class="red dim" href="http://blog.mgechev.com/2016/08/14/ahead-of-time-compilation-angular-offline-precompilation/#inside-ngfactoryts">*.ngfactory.ts</a>, the linked article provides a clear overview of their purpose.</p>
<pre><code class="lang-javascript">{
 test: /\.tsx?$/,
 use: IS_DEV ? [&#39;ts-loader&#39;, &#39;angular2-template-loader&#39;] : &#39;@ngtools/webpack&#39;,
 exclude: IS_DEV ? [/node_modules/] : []
}
</code></pre>
</li>
</ol>
<p><br /><br /></p>
<p>The resulting change to <code class="purple">webpack.config.js</code> should look similar to the following diff:</p>
<pre><code class="lang-diff">const webpack = require(&#39;webpack&#39;);
+ const AotPlugin = require(&#39;@ngtools/webpack&#39;).AotPlugin;

+ const IS_DEV = process.env.NODE_ENV !== &#39;production&#39;;

const devPlugins = [
  // Your usual development plugins
];

const prodPlugins = [
+ new AotPlugin({
+   tsConfigPath: &#39;tsconfig.json&#39;,
+   entryModule: path.resolve(__dirname, &#39;examples/app/app.module#AppModule&#39;),
+ }),
  new webpack.optimize.UglifyJsPlugin({
    sourceMap: false,
    output: { comments: false },
    compressor: {
      warnings: false
    }
  })
];

module.exports = {
  devtool: &#39;eval&#39;,
- entry: path.join(root.src, &#39;main.ts&#39;),
+ entry: path.join(root.src, IS_DEV ? &#39;main.ts&#39; : &#39;main-prod.ts&#39;),
  output: {
    path: root.dest,
    publicPath: &#39;dist&#39;,
    filename: &#39;main.js&#39;
  },
  module: {
    rules: [
      {
        test: /\.tsx?$/,
-       use: [&#39;ts-loader&#39;, &#39;angular2-template-loader&#39;],
+       use: IS_DEV ? [&#39;ts-loader&#39;, &#39;angular2-template-loader&#39;] : &#39;@ngtools/webpack&#39;,
-       exclude: [/node_modules/]
+       exclude: IS_DEV ? [/node_modules/] : []
      },
      // ...other loaders like the following
      {
        test: /\.html$/,
        use: &#39;raw-loader&#39;,
        exclude: [/node_modules/]
      }
    ]
  },
  plugins: IS_DEV ? devPlugins : prodPlugins
};
</code></pre>
<h2 id="tsconfig-prod-json">tsconfig-prod.json</h2>
<p>Now we&#39;ll add the Angular compiler settings <code class="purple">angularCompilerOptions</code> to the Typescript configuration file used in production, named <code class="purple">tsconfig-prod.json</code> in this case.  </p>
<p>The <a class="red dim" href="https://github.com/angular/angular/blob/abee78582123de81a3b1a77dadab7dafe4226055/packages/tsc-wrapped/src/options.ts#L11">complete list of possible options</a> can be found in the source code of the compiler.</p>
<pre><code class="lang-diff">{
  &quot;compilerOptions&quot;: {
    &quot;target&quot;: &quot;es5&quot;,
    &quot;module&quot;: &quot;commonjs&quot;,
    &quot;moduleResolution&quot;: &quot;node&quot;,
    &quot;sourceMap&quot;: false,
    &quot;inlineSources&quot;: false,
    &quot;emitDecoratorMetadata&quot;: true,
    &quot;experimentalDecorators&quot;: true,
    &quot;lib&quot;: [
      &quot;es2015&quot;,
      &quot;dom&quot;
    ]
    &quot;suppressImplicitAnyIndexErrors&quot;: true
  },
+  &quot;angularCompilerOptions&quot;: {
+    &quot;genDir&quot;: &quot;aot&quot;, // Specify where Angular can create temporary AOT files
+    &quot;skipMetadataEmit&quot; : true // Don&#39;t generate not necessary metadata files. They are useful only if you&#39;re publishing an Angular UI library
+  }
}
</code></pre>
<h2 id="main-prod-ts">main-prod.ts</h2>
<p>Last step of the configuration: create a new file <code class="purple">main-prod.ts</code>, very similar to the usual <code class="purple">main-prod.ts</code>, where you bootstrap the application. The main differences are:</p>
<ol>
<li><p>We&#39;re importing <code class="purple">enableProdMode</code>, which will disable development behaviours. For instance, the application won&#39;t warn about <a class="red dim" href="https://github.com/angular/angular/issues/6005">&quot;expression has changed&quot; errors</a>.</p>
</li>
<li><p>We&#39;re using <code class="purple">@angular/platform-browser</code> instead of <code class="purple">@angular/platform-browser-dynamic</code>. This will avoid including the JIT compiler (about 2MB uncompressed) in the final bundle and it will instead make use of the AOT compilation files, included by <code class="purple">@ngtools/webpack</code>.</p>
</li>
</ol>
<pre><code class="lang-javascript">import { enableProdMode } from &#39;@angular/core&#39;;
import { platformBrowser } from &#39;@angular/platform-browser&#39;;
import { AppModule } from &#39;./app.module&#39;;

enableProdMode();

const platform = platformBrowser();
platform.bootstrapModule(AppModule);
</code></pre>
<h2 id="make-your-code-aot-ready">Make your code AOT ready</h2>
<p>Now you&#39;re finally ready to run the AOT compilation! 🎉 This is an example of the npm script in <code class="purple">package.json</code>, which can be ran using <code class="purple">npm run build</code>:</p>
<pre><code class="lang-json">{
  &quot;scripts&quot;: {
    &quot;build&quot;: &quot;cross-env NODE_ENV=production webpack&quot;
  }
}
</code></pre>
<p><br /></p>
<p>Actually... if you try the compilation you&#39;re likely to run into a lot of scary red errors. That&#39;s because you still have to make your Angular application code AOT ready.</p>
<p>Your code, especially your components, must follow some specific rules like not having <code class="purple">private</code> properties or methods in templates. You can find the list of rules <a class="red dim" href="https://medium.com/@isaacplmann/making-your-angular-2-library-statically-analyzable-for-aot-e1c6f3ebedd5">here</a>.</p>
<p><strong>Important note</strong>: these rules must be followed by <em>every</em> piece of your application, even by external Angular libraries imported in your project. Otherwise, the compilation will throw.</p>
<p>The AOT compiler errors usually fall into 3 categories:</p>
<ol>
<li><p><strong>Code not AOT compatible</strong>, which don&#39;t follow the previous rules</p>
</li>
<li><p><strong>Typescript type checking fails</strong>. The AOT compilation will also throw if a template is using a property/method which doesn&#39;t exist in the component class or if the types don&#39;t match. This doesn&#39;t happen with the JIT/runtime compilator.</p>
</li>
<li><p><strong>Logic errors</strong> like dependency cycles.</p>
</li>
</ol>
<p>As you can see the latter 2 categories are actually useful errors, whereas the first one is just a hassle.</p>
<h2 id="performance">Performance</h2>
<p>After the compilation, you should see an improvement of the bundle size and a much faster bootstrap time.</p>
<h3 id="bundle-size">Bundle size</h3>
<p>You can use <a class="red dim" href="https://github.com/th0r/webpack-bundle-analyzer">webpack-bundle-analyzer</a> to have a visual treemap of the bundle content.<br>Before AOT compilation the <code class="purple">@angular</code> package had a size of 3.13MB uncompressed, whereas after the compilation it has been reduced to 1.29MB uncompressed. Still big, but surely better.</p>
<p>Pre-AOT (click to open):</p>
<p>
    <figure>
      <a href="/images/angular-aot/bundle-size-pre-aot.png" target="_blank"><img src="/images/angular-aot/bundle-size-pre-aot.png" alt="Bundle size - pre AOT"></a>
      <figcaption class="f6 i tr mt1" >Bundle size - pre AOT</figcaption>
    </figure>
  </p>
<p>Post-AOT (click to open):</p>
<p>
    <figure>
      <a href="/images/angular-aot/bundle-size-post-aot.png" target="_blank"><img src="/images/angular-aot/bundle-size-post-aot.png" alt="Bundle size - post AOT"></a>
      <figcaption class="f6 i tr mt1" >Bundle size - post AOT</figcaption>
    </figure>
  </p>
<h3 id="loading-time">Loading time</h3>
<p>Another difference can be seen on the right side of the images. The AOT compiled application uses <code class="purple">.ngfactory.ts</code> files, produced by the AOT compiler, which replaces the HTML templates and avoids runtime compilation.</p>
<p>Thanks to those statically compiled files, the initial loading time has been reduced by about 70%.</p>
<p>Pre-AOT:</p>
<p>
    <figure>
      <a href="/images/angular-aot/loading-pre-aot.png" target="_blank"><img src="/images/angular-aot/loading-pre-aot.png" alt="Loading time - pre AOT"></a>
      <figcaption class="f6 i tr mt1" >Loading time - pre AOT</figcaption>
    </figure>
  </p>
<p>Post-AOT:</p>
<p>
    <figure>
      <a href="/images/angular-aot/loading-post-aot.png" target="_blank"><img src="/images/angular-aot/loading-post-aot.png" alt="Loading time - post AOT"></a>
      <figcaption class="f6 i tr mt1" >Loading time - post AOT</figcaption>
    </figure>
  </p>
<h2 id="final-words">Final words</h2>
<p>After the previous steps, you should finally have an AOT compiled application. The most difficult step is getting through all the compiler errors.  </p>
<p>If you find cryptic errors I suggest searching for solutions in <a class="red dim" href="https://github.com/angular/angular/issues">Angular issues</a>, you&#39;ll likely find someone else having the same issue. At least you won&#39;t be alone in the dark.</p>
<p>Hopefully, this article will also help you see some light in the dark. Let me know in the comments.</p>
<h3 id="notes-about-versions">Notes about versions</h3>
<p>The versions assumed in this article are Angular 4, Webpack 2/3 and <code class="purple">@ngtools/webpack@1.5.1</code>.</p>
<h3 id="notes-about-ui-library">Notes about UI library</h3>
<p>So far we covered AOT compilation with an Angular <em>application</em>, in a next post we&#39;ll see how to distribute AOT compatible <em>UI libraries</em> without Webpack and with unique requirements they must respect.</p>
<p>We&#39;ll also use directly the <code class="purple">ngc</code> compiler and see how to make it work with Sass. Stay tuned.</p>
</div>
        </div>
      </section>
    </article>

    <div class="center measure-wide">
  <hr />

  <div id="disqus_thread"></div>
</div>

<script>
var disqus_developer = 1;

var disqus_config = function () {
  this.page.url = 'http://blog.jiayihu.net/angular-aot-compilation-with-webpack';
  this.page.identifier = 'angular-aot-compilation-with-webpack';
};

(function() { // DON'T EDIT BELOW THIS LINE
  var d = document, s = d.createElement('script');
  s.setAttribute('defer', 'defer');
  s.src = 'https://jiayi-chronicles.disqus.com/embed.js';
  s.setAttribute('data-timestamp', +new Date());
  (d.head || d.body).appendChild(s);
})();
</script>
<noscript>Please enable JavaScript to view the <a href="https://disqus.com/?ref_noscript">comments powered by Disqus.</a></noscript>


    <footer class="pv4 ph3 ph5-ns tc">
  <a class="link dim gray dib h2 w2 br-100 mr3 " href="http://twitter.com/jiayi_ghu" title="">
    <svg data-icon="twitter" viewBox="0 0 32 32" style="fill:currentcolor">
      <title>twitter icon</title>
      <path d="M2 4 C6 8 10 12 15 11 A6 6 0 0 1 22 4 A6 6 0 0 1 26 6 A8 8 0 0 0 31 4 A8 8 0 0 1 28 8 A8 8 0 0 0 32 7 A8 8 0 0 1 28 11 A18 18 0 0 1 10 30 A18 18 0 0 1 0 27 A12 12 0 0 0 8 24 A8 8 0 0 1 3 20 A8 8 0 0 0 6 19.5 A8 8 0 0 1 0 12 A8 8 0 0 0 3 13 A8 8 0 0 1 2 4"></path>
    </svg>
  </a>
  <a class="link dim gray dib br-100 h2 w2 mr3 " href="https://github.com/jiayihu" title="">
    <svg data-icon="github" viewBox="0 0 32 32" style="fill:currentcolor">
      <title>github icon</title>
      <path d="M0 18 C0 12 3 10 3 9 C2.5 7 2.5 4 3 3 C6 3 9 5 10 6 C12 5 14 5 16 5 C18 5 20 5 22 6 C23 5 26 3 29 3 C29.5 4 29.5 7 29 9 C29 10 32 12 32 18 C32 25 30 30 16 30 C2 30 0 25 0 18 M3 20 C3 24 4 28 16 28 C28 28 29 24 29 20 C29 16 28 14 16 14 C4 14 3 16 3 20 M8 21 A1.5 2.5 0 0 0 13 21 A1.5 2.5 0 0 0 8 21 M24 21 A1.5 2.5 0 0 0 19 21 A1.5 2.5 0 0 0 24 21 z"></path>
    </svg>
  </a>
  <a class="link dim gray dib br-100 h2 w2 mr3 " href="https://www.linkedin.com/in/jiayi-hu/" title="LinkedIn">
    <svg fill="currentColor" xmlns="http://www.w3.org/2000/svg" viewBox="0 0 16 16" fill-rule="evenodd" clip-rule="evenodd" stroke-linejoin="round" stroke-miterlimit="1.414">
      <title>LinkedIn icon</title>
      <path d="M13.632 13.635h-2.37V9.922c0-.886-.018-2.025-1.234-2.025-1.235 0-1.424.964-1.424 1.96v3.778h-2.37V6H8.51V7.04h.03c.318-.6 1.092-1.233 2.247-1.233 2.4 0 2.845 1.58 2.845 3.637v4.188zM3.558 4.955c-.762 0-1.376-.617-1.376-1.377 0-.758.614-1.375 1.376-1.375.76 0 1.376.617 1.376 1.375 0 .76-.617 1.377-1.376 1.377zm1.188 8.68H2.37V6h2.376v7.635zM14.816 0H1.18C.528 0 0 .516 0 1.153v13.694C0 15.484.528 16 1.18 16h13.635c.652 0 1.185-.516 1.185-1.153V1.153C16 .516 15.467 0 14.815 0z" fill-rule="nonzero"/>
    </svg>
  </a>
  <small class="mt4 f6 db tc">© 2017. All Rights Reserved</small>
</footer>

<script src="https://ft-polyfill-service.herokuapp.com/v2/polyfill.min.js"></script>
<script src="/js/main.js"></script>
<script src="/js/prism.js"></script>

<script>
  (function(i,s,o,g,r,a,m){i['GoogleAnalyticsObject']=r;i[r]=i[r]||function(){
  (i[r].q=i[r].q||[]).push(arguments)},i[r].l=1*new Date();a=s.createElement(o),
  m=s.getElementsByTagName(o)[0];a.async=1;a.src=g;m.parentNode.insertBefore(a,m)
  })(window,document,'script','https://www.google-analytics.com/analytics.js','ga');

  ga('create', 'UA-103053006-1', 'auto');
  ga('send', 'pageview');

</script>

  </body>
</html>
