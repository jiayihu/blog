<!DOCTYPE html><html lang="en" data-astro-cid-bvzihdzo> <head><!-- Global Metadata --><meta charset="utf-8"><meta name="viewport" content="width=device-width,initial-scale=1"><!-- Favicons --><link rel="apple-touch-icon" sizes="180x180" href="/icons/apple-touch-icon.png"><link rel="icon" type="image/png" sizes="32x32" href="/icons/favicon-32x32.png"><link rel="icon" type="image/png" sizes="16x16" href="/icons/favicon-16x16.png"><link rel="mask-icon" href="/icons/safari-pinned-tab.svg" color="#5bbad5"><meta name="generator" content="Astro v4.3.2"><!-- Canonical URL --><link rel="canonical" href="https://blog.jiayihu.net/css-resets-in-shadow-dom/"><!-- Primary Meta Tags --><title>CSS resets in Shadow DOM</title><meta name="title" content="CSS resets in Shadow DOM"><meta name="description" content="How to apply reset.css or normalize.css with Web Components encapsulated in Shadow DOM"><!-- Open Graph / Facebook --><meta property="og:type" content="website"><meta property="og:url" content="https://blog.jiayihu.net/css-resets-in-shadow-dom/"><meta property="og:title" content="CSS resets in Shadow DOM"><meta property="og:description" content="How to apply reset.css or normalize.css with Web Components encapsulated in Shadow DOM"><meta property="og:image" content="https://blog.jiayihu.net/icons/android-chrome-512x512.png"><!-- Twitter --><meta property="twitter:card" content="summary_large_image"><meta property="twitter:url" content="https://blog.jiayihu.net/css-resets-in-shadow-dom/"><meta property="twitter:title" content="CSS resets in Shadow DOM"><meta property="twitter:description" content="How to apply reset.css or normalize.css with Web Components encapsulated in Shadow DOM"><meta property="twitter:image" content="https://blog.jiayihu.net/icons/android-chrome-512x512.png"><meta name="apple-mobile-web-app-capable" content="yes"><meta name="apple-mobile-web-app-status-bar-style" content="black"><meta name="apple-mobile-web-app-title" content="Jiayi's Chronicles"><meta name="msapplication-TileColor" content="#ffffff"><meta name="theme-color" content="#ffffff"><!-- Google tag (gtag.js) --><script async src="https://www.googletagmanager.com/gtag/js?id=G-B9J9NL8MGS"></script><style>:root{--accent: #a00;--accent-dark: rgb(110, 1, 1);--black: 15, 18, 25;--sand: 255, 252, 250;--gold: 247, 237, 213;--dark-gold: 90, 68, 13;--purple: 111, 66, 193;--gray: 160, 146, 116;--gray-light: 229, 233, 240;--gray-dark: 34, 41, 57;--gray-gradient: rgba(var(--sand), 100%), #fff;--box-shadow: 0 2px 6px rgba(var(--gray), 25%), 0 8px 24px rgba(var(--gray), 33%), 0 16px 32px rgba(var(--gray), 33%);--container: 680px}body{font-family:-apple-system,BlinkMacSystemFont,avenir next,avenir,helvetica neue,helvetica,ubuntu,roboto,noto,segoe ui,arial,sans-serif;margin:0;padding:0;text-align:left;background:linear-gradient(var(--gray-gradient)) no-repeat;background-size:100% 600px;word-wrap:break-word;overflow-wrap:break-word;color:rgb(var(--dark-gold));font-size:16px;line-height:1.7}main{width:720px;max-width:calc(100% - 2em);margin:auto;padding:3em 1em}h1,h2,h3,h4,h5,h6{font-family:Latin Modern,Georgia,Cambria,Times New Roman,Times,serif;font-weight:400;margin:0 0 .5rem;line-height:1.2}h1{font-size:3.052em}h2{font-size:2.441em}h3{font-size:1.953em}h4{font-size:1.563em}h5{font-size:1.25em}strong,b{font-weight:700}strong{background-color:rgba(var(--gold),100%);font-weight:400;outline:.125rem solid rgba(var(--gold),100%)}a{color:var(--accent);font-family:Latin Modern,Georgia,Cambria,Times New Roman,Times,serif}a:hover{color:var(--accent-dark);text-decoration:underline}p{margin-bottom:1em}textarea{width:100%;font-size:16px}input{font-size:16px}table{width:100%}img{max-width:100%;height:auto;border-radius:8px}code{padding:2px 5px;background-color:rgb(var(--gray-light));border-radius:2px;color:rgb(var(--purple))}pre{font-size:.875rem;padding:1.5em;border-radius:8px}pre>code{all:unset}blockquote{border-left:4px solid var(--accent);padding:0 0 0 20px;margin:0;font-size:1.333em}hr{border:none;border-top:1px solid rgb(var(--gray-light))}@media (max-width: 720px){body{font-size:16px}main{padding:1em}}.sr-only{border:0;padding:0;margin:0;position:absolute!important;height:1px;width:1px;overflow:hidden;clip:rect(1px 1px 1px 1px);clip:rect(1px,1px,1px,1px);clip-path:inset(50%);white-space:nowrap}.astro-code{background-color:transparent!important}figcaption{font-size:.875rem;font-style:italic;text-align:right}footer[data-astro-cid-sz7xmlte]{padding:2em 1em 6em;color:rgb(var(--gray));text-align:center}.social-links[data-astro-cid-sz7xmlte]{display:flex;justify-content:center;gap:1em;margin-top:1em}.social-links[data-astro-cid-sz7xmlte] a[data-astro-cid-sz7xmlte]{text-decoration:none;color:rgb(var(--gray))}.social-links[data-astro-cid-sz7xmlte] a[data-astro-cid-sz7xmlte]:hover{color:rgb(var(--gray-dark))}a[data-astro-cid-eimmu3lg]{border-bottom:4px solid transparent;color:var(--black);display:inline-block;text-decoration:none}a[data-astro-cid-eimmu3lg].active{color:var(--accent);text-decoration:underline}header[data-astro-cid-3ef6ksr2]{margin:0;padding:1rem}h2[data-astro-cid-3ef6ksr2]{margin:0;font-size:1.5em}h2[data-astro-cid-3ef6ksr2] a[data-astro-cid-3ef6ksr2],h2[data-astro-cid-3ef6ksr2] a[data-astro-cid-3ef6ksr2].active{font-weight:400;text-decoration:none}nav[data-astro-cid-3ef6ksr2]{display:flex;align-items:center;justify-content:space-between;flex-direction:column}@media (min-width: 720px){nav[data-astro-cid-3ef6ksr2]{flex-direction:row}}nav[data-astro-cid-3ef6ksr2] a[data-astro-cid-3ef6ksr2]{padding:1em .5em}nav[data-astro-cid-3ef6ksr2] .logo[data-astro-cid-3ef6ksr2]{color:var(--accent)}.internal-links[data-astro-cid-3ef6ksr2]{font-size:1rem}
main[data-astro-cid-bvzihdzo]{width:calc(100% - 2em);max-width:100%;margin:0}.header[data-astro-cid-bvzihdzo]{color:rgb(var(--dark-gold));display:flex;flex-direction:column;gap:1rem;align-items:center;font-family:Latin Modern,Georgia,Cambria,Times New Roman,Times,serif;justify-content:center;min-height:75vh;margin:3rem 0}.title[data-astro-cid-bvzihdzo]{text-align:center;max-width:calc(var(--container) * 2);text-wrap:balance}.title[data-astro-cid-bvzihdzo] h1[data-astro-cid-bvzihdzo]{font-weight:400;font-style:italic}.description[data-astro-cid-bvzihdzo]{font-size:1.125rem;width:var(--container);max-width:calc(100% - 2em)}.date[data-astro-cid-bvzihdzo]{margin-bottom:.5em}.last-updated-on[data-astro-cid-bvzihdzo]{font-style:italic}.dot-separator[data-astro-cid-bvzihdzo]:after{content:" - "}.reading-time[data-astro-cid-bvzihdzo]{text-transform:uppercase}.prose[data-astro-cid-bvzihdzo]{width:var(--container);max-width:calc(100% - 2em);margin:auto;padding:1em;h2,h3,h4,h5,h6{margin-top:1em;a{color:inherit;font-size:.75em;margin-left:-1em;text-decoration:none}}p{margin-bottom:2em}}
</style><script type="module" src="/_astro/hoisted.so8-tTbL.js"></script></head> <body data-astro-cid-bvzihdzo> <header data-astro-cid-3ef6ksr2> <nav data-astro-cid-3ef6ksr2> <h2 data-astro-cid-3ef6ksr2><a href="/" class="logo" data-astro-cid-3ef6ksr2>Jiayi&#39;s Chronicles</a></h2> <div class="internal-links" data-astro-cid-3ef6ksr2> <a href="/" data-astro-cid-3ef6ksr2 data-astro-cid-eimmu3lg> Home </a>  <a href="/about" data-astro-cid-3ef6ksr2 data-astro-cid-eimmu3lg> About </a>  </div> </nav> </header>  <main data-astro-cid-bvzihdzo> <article data-astro-cid-bvzihdzo> <header class="header" data-astro-cid-bvzihdzo> <div class="title" data-astro-cid-bvzihdzo> <h1 data-astro-cid-bvzihdzo>CSS resets in Shadow DOM</h1> </div> <p class="description" data-astro-cid-bvzihdzo>How to apply reset.css or normalize.css with Web Components encapsulated in Shadow DOM</p> <div class="date" data-astro-cid-bvzihdzo> <time datetime="2018-09-05T00:00:00.000Z"> Sep 5, 2018 </time>  <span class="dot-separator" data-astro-cid-bvzihdzo></span> <span class="reading-time" data-astro-cid-bvzihdzo>5 min read</span> </div> </header> <div class="prose" data-astro-cid-bvzihdzo>  <p>Now that also <a href="https://blog.nightly.mozilla.org/2018/09/06/developer-tools-support-for-web-components-in-firefox-63/">Firefox 63 is supporting <strong>Web Components</strong></a>, they are definitely the new shiny technology in the front-end which allow creating reusable Custom Elements using standard JavaScript APIs. With <strong>Shadow DOM</strong>, they are even well encapsulated, but this raises some questions like how to reset the CSS within the Shadow DOM.</p>
<aside class="notice">
You can read more about Web Components on [MDN](https://developer.mozilla.org/en-US/docs/Web/Web_Components).
</aside>
<p>When building Web Components, Shadow DOM allows encapsulation of what the component renders. As the name suggests, Shadow DOM attaches a separate hidden DOM tree to your element, allowing you to keep the internal DOM and the styles private. For the CSS, this means that any style outside the element has no impact within the Shadow DOM and vice-versa any style defined in the latter doesn’t affect elements out of it.</p>
<p>Let’s define a simple Custom Elements for our special paragraph component:</p>
<pre class="astro-code github-light" style="background-color:#fff;color:#24292e; overflow-x: auto;" tabindex="0"><code><span class="line"><span style="color:#D73A49">const</span><span style="color:#005CC5"> template</span><span style="color:#D73A49"> =</span><span style="color:#24292E"> document.</span><span style="color:#6F42C1">createElement</span><span style="color:#24292E">(</span><span style="color:#032F62">'template'</span><span style="color:#24292E">)</span></span>
<span class="line"><span style="color:#24292E">template.innerHTML </span><span style="color:#D73A49">=</span><span style="color:#032F62"> `</span></span>
<span class="line"><span style="color:#032F62">  &#x3C;style></span></span>
<span class="line"><span style="color:#032F62">    p {</span></span>
<span class="line"><span style="color:#032F62">      color: white;</span></span>
<span class="line"><span style="color:#032F62">      background-color: #666;</span></span>
<span class="line"><span style="color:#032F62">      padding: 5px;</span></span>
<span class="line"><span style="color:#032F62">    }</span></span>
<span class="line"><span style="color:#032F62">  &#x3C;/style></span></span>
<span class="line"><span style="color:#032F62">  &#x3C;p>My paragraph&#x3C;/p></span></span>
<span class="line"><span style="color:#032F62">`</span></span>
<span class="line"></span>
<span class="line"><span style="color:#D73A49">class</span><span style="color:#6F42C1"> MyParagraph</span><span style="color:#D73A49"> extends</span><span style="color:#6F42C1"> HTMLElement</span><span style="color:#24292E"> {</span></span>
<span class="line"><span style="color:#D73A49">    constructor</span><span style="color:#24292E">() {</span></span>
<span class="line"><span style="color:#005CC5">      super</span><span style="color:#24292E">();</span></span>
<span class="line"><span style="color:#D73A49">      const</span><span style="color:#005CC5"> template</span><span style="color:#D73A49"> =</span><span style="color:#24292E"> document.</span><span style="color:#6F42C1">getElementById</span><span style="color:#24292E">(</span><span style="color:#032F62">'my-paragraph'</span><span style="color:#24292E">);</span></span>
<span class="line"></span>
<span class="line"><span style="color:#005CC5">      this</span><span style="color:#24292E">.</span><span style="color:#6F42C1">attachShadow</span><span style="color:#24292E">({mode: </span><span style="color:#032F62">'open'</span><span style="color:#24292E">})</span></span>
<span class="line"><span style="color:#24292E">        .</span><span style="color:#6F42C1">appendChild</span><span style="color:#24292E">(template.content.</span><span style="color:#6F42C1">cloneNode</span><span style="color:#24292E">(</span><span style="color:#005CC5">true</span><span style="color:#24292E">));</span></span>
<span class="line"><span style="color:#24292E">  }</span></span>
<span class="line"><span style="color:#24292E">}</span></span>
<span class="line"></span>
<span class="line"><span style="color:#24292E">customElements.</span><span style="color:#6F42C1">define</span><span style="color:#24292E">(</span><span style="color:#032F62">'my-paragraph'</span><span style="color:#24292E">, MyParagraph)</span></span></code></pre>
<p>It’s possible then to use it as <code>&#x3C;my-paragraph>&#x3C;/my-paragraph></code>, and it renders a paragraph with white text, grey background and 5px padding. You can <a href="https://codepen.io/jiayihu/pen/RYxVrr?editors=1010">see it live on Codepen</a> using the latest Chrome, Safari or Firefox. <a href="https://caniuse.com/#feat=custom-elementsv1">Edge is the only one missing Web Components</a> yet.</p>
<p>Now, if we define the following global CSS declaration, we can notice that it doesn’t have an impact on our custom paragraph although a <code>&#x3C;p></code> element is used within it.</p>
<pre class="astro-code github-light" style="background-color:#fff;color:#24292e; overflow-x: auto;" tabindex="0"><code><span class="line"><span style="color:#22863A">p</span><span style="color:#24292E"> {</span></span>
<span class="line"><span style="color:#005CC5">  text-transform</span><span style="color:#24292E">: </span><span style="color:#005CC5">uppercase</span><span style="color:#24292E">;</span></span>
<span class="line"><span style="color:#24292E">}</span></span></code></pre>
<p>Likewise, <code>MyParagraph</code> styles don’t have effects on the outer <code>&#x3C;p>Usual paragraph&#x3C;/p></code> declared in the HTML.</p>
<p>Okay that it’s clear what Shadow DOM means for styles, let’s proceed with the main topic of the article.</p>
<h2 id="how-to-reset-the-css-in-web-components">How to reset the CSS in Web Components</h2>
<p>Since Shadow DOM is separated from the rest of the document, this means that your Custom Elements won’t be able to be styled by your global CSS reset like <a href="https://meyerweb.com/eric/tools/css/reset/">reset.css</a> or <a href="https://necolas.github.io/normalize.css/">normalize.css</a>. By default, without any style from yours, they use the User Agent stylesheet defined by the browser along with all the inconsistencies between browsers.</p>
<p>With the deprecation of <code>/deep/</code> and <code>>>></code> CSS selectors, it’s impossible for any stylesheet to customize the style within a Shadow DOM even if the purpose is to reset it.</p>
<p>The only way, as far as I know, is to import the CSS reset within every your Web Component, for instance <code>@import 'normalize.css';</code> as Sass or PostCSS. The problem is that this duplicates much code. <code>normalize.css</code> is almost 6KB uncompressed, which means that if you have 100 components, you  deliver <code>600KB</code> of duplicated code.</p>
<p>The philosophy of Web Components is to build isolated components which can be used anywhere without the need of other libraries and, for this reason, they must share nothing between each other and they must contain all the needed code to work alone.</p>
<p>However, this means also that your single Custom Element doesn’t need the whole reset CSS. It can import only the parts which affect its Shadow DOM.</p>
<p>Taking <a href="https://necolas.github.io/normalize.css/">normalize.css</a> as example, we are able to divide it into tiny pieces like the following:</p>
<pre class="astro-code github-light" style="background-color:#fff;color:#24292e; overflow-x: auto;" tabindex="0"><code><span class="line"><span>normalize</span></span>
<span class="line"><span>   ├── document.css</span></span>
<span class="line"><span>   ├── embedded.css</span></span>
<span class="line"><span>   ├── forms.css</span></span>
<span class="line"><span>   ├── grouping.css</span></span>
<span class="line"><span>   ├── interactive.css</span></span>
<span class="line"><span>   ├── misc.css</span></span>
<span class="line"><span>   ├── sections.css</span></span>
<span class="line"><span>   └── text-level.css</span></span></code></pre>
<pre class="astro-code github-light" style="background-color:#fff;color:#24292e; overflow-x: auto;" tabindex="0"><code><span class="line"><span style="color:#6A737D">/* Embedded content</span></span>
<span class="line"><span style="color:#6A737D">   ========================================================================== */</span></span>
<span class="line"></span>
<span class="line"><span style="color:#6A737D">/**</span></span>
<span class="line"><span style="color:#6A737D"> * Remove the border on images inside links in IE 10.</span></span>
<span class="line"><span style="color:#6A737D"> */</span></span>
<span class="line"></span>
<span class="line"><span style="color:#22863A">img</span><span style="color:#24292E"> {</span></span>
<span class="line"><span style="color:#005CC5">  border-style</span><span style="color:#24292E">: </span><span style="color:#005CC5">none</span><span style="color:#24292E">;</span></span>
<span class="line"><span style="color:#24292E">}</span></span></code></pre>
<pre class="astro-code github-light" style="background-color:#fff;color:#24292e; overflow-x: auto;" tabindex="0"><code><span class="line"><span style="color:#6A737D">/* Forms</span></span>
<span class="line"><span style="color:#6A737D">   ========================================================================== */</span></span>
<span class="line"></span>
<span class="line"><span style="color:#6A737D">/**</span></span>
<span class="line"><span style="color:#6A737D"> * 1. Change the font styles in all browsers.</span></span>
<span class="line"><span style="color:#6A737D"> * 2. Remove the margin in Firefox and Safari.</span></span>
<span class="line"><span style="color:#6A737D"> */</span></span>
<span class="line"></span>
<span class="line"><span style="color:#22863A">button</span><span style="color:#24292E">,</span></span>
<span class="line"><span style="color:#22863A">input</span><span style="color:#24292E">,</span></span>
<span class="line"><span style="color:#22863A">optgroup</span><span style="color:#24292E">,</span></span>
<span class="line"><span style="color:#22863A">select</span><span style="color:#24292E">,</span></span>
<span class="line"><span style="color:#22863A">textarea</span><span style="color:#24292E"> {</span></span>
<span class="line"><span style="color:#005CC5">  font-family</span><span style="color:#24292E">: </span><span style="color:#005CC5">inherit</span><span style="color:#24292E">; </span><span style="color:#6A737D">/* 1 */</span></span>
<span class="line"><span style="color:#005CC5">  font-size</span><span style="color:#24292E">: </span><span style="color:#005CC5">100</span><span style="color:#D73A49">%</span><span style="color:#24292E">; </span><span style="color:#6A737D">/* 1 */</span></span>
<span class="line"><span style="color:#005CC5">  line-height</span><span style="color:#24292E">: </span><span style="color:#005CC5">1.15</span><span style="color:#24292E">; </span><span style="color:#6A737D">/* 1 */</span></span>
<span class="line"><span style="color:#005CC5">  margin</span><span style="color:#24292E">: </span><span style="color:#005CC5">0</span><span style="color:#24292E">; </span><span style="color:#6A737D">/* 2 */</span></span>
<span class="line"><span style="color:#24292E">}</span></span>
<span class="line"></span>
<span class="line"><span style="color:#6A737D">/**</span></span>
<span class="line"><span style="color:#6A737D">  * Show the overflow in IE.</span></span>
<span class="line"><span style="color:#6A737D">  * 1. Show the overflow in Edge.</span></span>
<span class="line"><span style="color:#6A737D">  */</span></span>
<span class="line"></span>
<span class="line"><span style="color:#22863A">button</span><span style="color:#24292E">,</span></span>
<span class="line"><span style="color:#22863A">input</span><span style="color:#24292E"> {</span></span>
<span class="line"><span style="color:#6A737D">  /* 1 */</span></span>
<span class="line"><span style="color:#005CC5">  overflow</span><span style="color:#24292E">: </span><span style="color:#005CC5">visible</span><span style="color:#24292E">;</span></span>
<span class="line"><span style="color:#24292E">}</span></span>
<span class="line"></span>
<span class="line"><span style="color:#6A737D">/** ... other form resets */</span></span></code></pre>
<pre class="astro-code github-light" style="background-color:#fff;color:#24292e; overflow-x: auto;" tabindex="0"><code><span class="line"><span style="color:#6A737D">/* Sections</span></span>
<span class="line"><span style="color:#6A737D">   ========================================================================== */</span></span>
<span class="line"></span>
<span class="line"><span style="color:#6A737D">/**</span></span>
<span class="line"><span style="color:#6A737D"> * Correct the font size and margin on `h1` elements within `section` and</span></span>
<span class="line"><span style="color:#6A737D"> * `article` contexts in Chrome, Firefox, and Safari.</span></span>
<span class="line"><span style="color:#6A737D"> */</span></span>
<span class="line"></span>
<span class="line"><span style="color:#22863A">h1</span><span style="color:#24292E"> {</span></span>
<span class="line"><span style="color:#005CC5">  font-size</span><span style="color:#24292E">: </span><span style="color:#005CC5">2</span><span style="color:#D73A49">em</span><span style="color:#24292E">;</span></span>
<span class="line"><span style="color:#005CC5">  margin</span><span style="color:#24292E">: </span><span style="color:#005CC5">0.67</span><span style="color:#D73A49">em</span><span style="color:#005CC5"> 0</span><span style="color:#24292E">;</span></span>
<span class="line"><span style="color:#24292E">}</span></span>
<span class="line"></span>
<span class="line"><span style="color:#22863A">h1</span><span style="color:#24292E">,</span></span>
<span class="line"><span style="color:#22863A">h2</span><span style="color:#24292E">,</span></span>
<span class="line"><span style="color:#22863A">h3</span><span style="color:#24292E">,</span></span>
<span class="line"><span style="color:#22863A">h4</span><span style="color:#24292E">,</span></span>
<span class="line"><span style="color:#22863A">h5</span><span style="color:#24292E">,</span></span>
<span class="line"><span style="color:#22863A">h6</span><span style="color:#24292E"> {</span></span>
<span class="line"><span style="color:#005CC5">  margin</span><span style="color:#24292E">: </span><span style="color:#005CC5">0</span><span style="color:#24292E">;</span></span>
<span class="line"><span style="color:#005CC5">  padding</span><span style="color:#24292E">: </span><span style="color:#005CC5">0</span><span style="color:#24292E">;</span></span>
<span class="line"><span style="color:#005CC5">  -webkit-font-smoothing</span><span style="color:#24292E">: </span><span style="color:#005CC5">antialiased</span><span style="color:#24292E">;</span></span>
<span class="line"><span style="color:#005CC5">  -moz-font-smoothing</span><span style="color:#24292E">: </span><span style="color:#005CC5">antialiased</span><span style="color:#24292E">;</span></span>
<span class="line"><span style="color:#005CC5">  -o-font-smoothing</span><span style="color:#24292E">: </span><span style="color:#005CC5">antialiased</span><span style="color:#24292E">;</span></span>
<span class="line"><span style="color:#005CC5">  -moz-osx-font-smoothing</span><span style="color:#24292E">: </span><span style="color:#005CC5">grayscale</span><span style="color:#24292E">;</span></span>
<span class="line"><span style="color:#24292E">}</span></span>
<span class="line"></span></code></pre>
<p>So then Web Components can import only the single pieces they require. I use <a href="https://github.com/postcss/postcss-import">postcss-import</a>, but you can apply the same technique in Sass or Less.</p>
<pre class="astro-code github-light" style="background-color:#fff;color:#24292e; overflow-x: auto;" tabindex="0"><code><span class="line"><span style="color:#D73A49">@import</span><span style="color:#032F62"> 'normalize/embedded.css'</span><span style="color:#24292E">;</span></span>
<span class="line"><span style="color:#D73A49">@import</span><span style="color:#032F62"> 'normalize/sections.css'</span><span style="color:#24292E">;</span></span>
<span class="line"></span>
<span class="line"><span style="color:#22863A">h1</span><span style="color:#24292E"> {</span></span>
<span class="line"><span style="color:#005CC5">  color</span><span style="color:#24292E">: </span><span style="color:#005CC5">rebeccapurple</span><span style="color:#24292E">;</span></span>
<span class="line"><span style="color:#24292E">}</span></span>
<span class="line"></span>
<span class="line"><span style="color:#6A737D">/** Other component styles */</span></span>
<span class="line"></span></code></pre>
<p>This strategy is not optimal because there is still duplication, but at least it’s minimal. It’s a good compromise of isolation and duplication: you get independent Web Components with minimal inevitable CSS duplication.</p>
<hr>
<p>What do you think of this strategy? For the time being it’s the best one I know, and the tip was given by a friend of mine <a href="https://github.com/MaxArt2501">@MaxArt2501</a>. If you come up with a better strategy, let me know in the comments.</p>   <script src="https://giscus.app/client.js" data-repo="jiayihu/blog" data-repo-id="MDEwOlJlcG9zaXRvcnk1ODc1MTUxMA==" data-category="Announcements" data-category-id="DIC_kwDOA4B6Fs4Ce90Z" data-mapping="title" data-strict="0" data-reactions-enabled="1" data-emit-metadata="0" data-input-position="top" data-theme="light" data-lang="en" data-loading="lazy" crossorigin="anonymous" async></script> </div> </article> </main> <footer data-astro-cid-sz7xmlte>
&copy; 2024 Jiayi Hu. All rights reserved.
<div class="social-links" data-astro-cid-sz7xmlte> <a href="https://twitter.com/jiayi0x10" target="_blank" data-astro-cid-sz7xmlte> <span class="sr-only" data-astro-cid-sz7xmlte>Follow Astro on Twitter</span> <svg viewBox="0 0 16 16" aria-hidden="true" width="32" height="32" astro-icon="social/twitter" data-astro-cid-sz7xmlte><path fill="currentColor" d="M5.026 15c6.038 0 9.341-5.003 9.341-9.334 0-.14 0-.282-.006-.422A6.685 6.685 0 0 0 16 3.542a6.658 6.658 0 0 1-1.889.518 3.301 3.301 0 0 0 1.447-1.817 6.533 6.533 0 0 1-2.087.793A3.286 3.286 0 0 0 7.875 6.03a9.325 9.325 0 0 1-6.767-3.429 3.289 3.289 0 0 0 1.018 4.382A3.323 3.323 0 0 1 .64 6.575v.045a3.288 3.288 0 0 0 2.632 3.218 3.203 3.203 0 0 1-.865.115 3.23 3.23 0 0 1-.614-.057 3.283 3.283 0 0 0 3.067 2.277A6.588 6.588 0 0 1 .78 13.58a6.32 6.32 0 0 1-.78-.045A9.344 9.344 0 0 0 5.026 15z" data-astro-cid-sz7xmlte></path></svg> </a> <a href="https://github.com/jiayihu" target="_blank" data-astro-cid-sz7xmlte> <span class="sr-only" data-astro-cid-sz7xmlte>Go to Jiayi's GitHub repo</span> <svg viewBox="0 0 16 16" aria-hidden="true" width="32" height="32" astro-icon="social/github" data-astro-cid-sz7xmlte><path fill="currentColor" d="M8 0C3.58 0 0 3.58 0 8c0 3.54 2.29 6.53 5.47 7.59.4.07.55-.17.55-.38 0-.19-.01-.82-.01-1.49-2.01.37-2.53-.49-2.69-.94-.09-.23-.48-.94-.82-1.13-.28-.15-.68-.52-.01-.53.63-.01 1.08.58 1.23.82.72 1.21 1.87.87 2.33.66.07-.52.28-.87.51-1.07-1.78-.2-3.64-.89-3.64-3.95 0-.87.31-1.59.82-2.15-.08-.2-.36-1.02.08-2.12 0 0 .67-.21 2.2.82.64-.18 1.32-.27 2-.27.68 0 1.36.09 2 .27 1.53-1.04 2.2-.82 2.2-.82.44 1.1.16 1.92.08 2.12.51.56.82 1.27.82 2.15 0 3.07-1.87 3.75-3.65 3.95.29.25.54.73.54 1.48 0 1.07-.01 1.93-.01 2.2 0 .21.15.46.55.38A8.012 8.012 0 0 0 16 8c0-4.42-3.58-8-8-8z" data-astro-cid-sz7xmlte></path></svg> </a> <a href="https://www.linkedin.com/in/jiayi-hu/" target="_blank" data-astro-cid-sz7xmlte> <span class="sr-only" data-astro-cid-sz7xmlte>Go to Jiayi's LinkedIn page</span> <svg viewBox="0 0 16 16" aria-hidden="true" width="32" height="32" astro-icon="social/linkedin" data-astro-cid-sz7xmlte> <path fill="currentColor" d="M13.632 13.635h-2.37V9.922c0-.886-.018-2.025-1.234-2.025-1.235 0-1.424.964-1.424 1.96v3.778h-2.37V6H8.51V7.04h.03c.318-.6 1.092-1.233 2.247-1.233 2.4 0 2.845 1.58 2.845 3.637v4.188zM3.558 4.955c-.762 0-1.376-.617-1.376-1.377 0-.758.614-1.375 1.376-1.375.76 0 1.376.617 1.376 1.375 0 .76-.617 1.377-1.376 1.377zm1.188 8.68H2.37V6h2.376v7.635zM14.816 0H1.18C.528 0 0 .516 0 1.153v13.694C0 15.484.528 16 1.18 16h13.635c.652 0 1.185-.516 1.185-1.153V1.153C16 .516 15.467 0 14.815 0z" fill-rule="nonzero" data-astro-cid-sz7xmlte></path> </svg> </a> </div> </footer>  </body></html>